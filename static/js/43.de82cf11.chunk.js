"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[43],{2429:function(e,t,r){var n=r(6871),a=r(501),c=r(184);t.Z=function(e){var t=e.films,r=(0,n.TH)();return(0,c.jsx)("ul",{children:t.map((function(e){return(0,c.jsx)("li",{children:(0,c.jsx)(a.rU,{to:"/movies/".concat(e.id),state:{from:r},children:e.title})},e.id)}))})}},4043:function(e,t,r){r.r(t),r.d(t,{default:function(){return g}});var n=r(5861),a=r(885),c=r(7757),u=r.n(c),o=r(9983);function s(e){return(0,o.w_)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}}]})(e)}var i={form:"MoviesPage_form__2deBf",input:"MoviesPage_input__16dJ5",searchButton:"MoviesPage_searchButton__q88Ko"},f=r(2429),p=r(644),v=r(7770),l=r(2791),d=r(501),m=r(6871),h=r(8479),x=r(184),g=function(){var e,t,r=(0,l.useState)([]),c=(0,a.Z)(r,2),o=c[0],g=c[1],y=(0,l.useState)(!1),w=(0,a.Z)(y,2),k=w[0],_=w[1],b=(0,d.lr)({}),Z=(0,a.Z)(b,2),j=Z[0],M=Z[1],B=j.get("query"),q=(0,m.TH)();return(0,l.useEffect)((function(){if(B){var e=function(){var e=(0,n.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.prev=1,e.next=4,v.Z.getMovieByQuery(B);case 4:t=e.sent,g(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h.ZP.error("The film you're lookink for can't be found");case 11:return e.prev=11,_(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}}),[B]),(0,x.jsxs)("section",{children:[(0,x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),M({query:e.target.elements.query.value.toLowerCase().trim()})},className:i.form,children:[(0,x.jsx)("input",{type:"text",name:"query",className:i.input,autoFocus:!0}),(0,x.jsx)("button",{type:"submit",className:i.searchButton,children:(0,x.jsx)("span",{className:i.buttonLabel,children:(0,x.jsx)(s,{})})})]}),(0,x.jsx)(d.rU,{to:null!==(e=null===q||void 0===q||null===(t=q.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/movie"}),k&&(0,x.jsx)(p.Z,{}),o&&(0,x.jsx)(f.Z,{films:o})]})}},7770:function(e,t,r){var n=r(5861),a=r(7757),c=r.n(a),u=r(4569),o=r.n(u),s="ff8c1bd9b42b07cf6632c931dd788828",i="https://api.themoviedb.org/3/",f=function(){var e=(0,n.Z)(c().mark((function e(){var t,r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(i,"trending/movie/day?api_key=").concat(s),e.next=3,o().get(t);case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("".concat(i,"movie/").concat(t,"?api_key=").concat(s));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("".concat(i,"movie/").concat(t,"/credits?api_key=").concat(s));case 2:return r=e.sent,e.abrupt("return",r.data.cast);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("".concat(i,"movie/").concat(t,"/reviews?api_key=").concat(s));case 2:return r=e.sent,e.abrupt("return",r.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("".concat(i,"search/movie?api_key=").concat(s,"&query=").concat(t,"&language=en-US&page=1&include_adult=false"));case 2:return r=e.sent,e.abrupt("return",r.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m={getTrendingMovie:f,getMovieById:p,getMovieByQuery:d,getMovieCast:v,getMovieReview:l};t.Z=m}}]);
//# sourceMappingURL=43.de82cf11.chunk.js.map